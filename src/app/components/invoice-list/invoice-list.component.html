<mat-card class="table-card">
  <mat-card-title>Invoice List</mat-card-title>
  <mat-card-content>
    <div class="wrapper">
      <mat-form-field class="filter-field" appearance="outline">
        <mat-label>Search Invoices</mat-label>
        <input
          matInput
          (keyup)="applyFilter($event)"
          placeholder="Search by Invoice Number, From Name, To Name, or Date"
        />
      </mat-form-field>
    </div>

    <div class="mat-elevation-z8 table-container">
      <table
        [dataSource]="dataSource"
        mat-table
        matSort
        (matSortChange)="onSort($event)"
      >
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let row">{{ row.id }}</td>
        </ng-container>

        <ng-container matColumnDef="invoiceNumber">
          <th mat-header-cell *matHeaderCellDef>Invoice Number</th>
          <td mat-cell *matCellDef="let row">{{ row.invoiceNumber }}</td>
        </ng-container>

        <ng-container matColumnDef="fromName">
          <th mat-header-cell *matHeaderCellDef>From Name</th>
          <td mat-cell *matCellDef="let row">{{ row.fromName }}</td>
        </ng-container>

        <ng-container matColumnDef="toName">
          <th mat-header-cell *matHeaderCellDef>To Name</th>
          <td mat-cell *matCellDef="let row">{{ row.toName }}</td>
        </ng-container>

        <ng-container matColumnDef="fromAddress">
          <th mat-header-cell *matHeaderCellDef>From Address</th>
          <td mat-cell *matCellDef="let row">{{ row.fromAddress }}</td>
        </ng-container>

        <ng-container matColumnDef="toAddress">
          <th mat-header-cell *matHeaderCellDef>To Address</th>
          <td mat-cell *matCellDef="let row">{{ row.toAddress }}</td>
        </ng-container>

        <ng-container matColumnDef="invoiceDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Invoice Date
          </th>
          <td mat-cell *matCellDef="let row">{{ row.invoiceDate | date }}</td>
        </ng-container>

        <ng-container matColumnDef="totalAmount">
          <th mat-header-cell *matHeaderCellDef>Total Amount</th>
          <td mat-cell *matCellDef="let row">{{ row.totalAmount }}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let row">
            <button
              mat-raised-button
              color="primary"
              (click)="viewInvoiceDetails(row)"
              class="view-button"
            >
              View Details
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="5">No matching invoices found.</td>
        </tr>
      </table>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <mat-paginator
      [pageSizeOptions]="[5, 10, 25]"
      showFirstLastButtons
    ></mat-paginator>
    <button mat-raised-button color="primary" (click)="createInvoice()">
      Create Invoice
    </button>
  </mat-card-actions>
</mat-card>
